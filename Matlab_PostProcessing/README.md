<h1> Data Visualization in MATLAB </h1>

<i> Last update: August 5, 2020 </i>

<h2> M-files </h2>

- filePlot.m and filePlotCompare.m are used to read the pairs of binary files (orbitalMotion-seed.bin and finalOptimization-seed.bin) generated by trajectoryPrint in ../Cuda/Output_Funcs/output.cpp and call the other M-files (except impactParams.m). filePlot(seed) and filePlotCompare(seed1,seed2) may be called from the kernel, where each 'seed' is an integer time seed corresponding to a pair of binary files located within the Matlab_PostProcessing directory.

- loadTripData.m parses through the data in finalOptimization-seed.bin based on the output order in trajectoryPrint (see data index below).

- plotData.m and plotDataCompare.m generate all the plots based on the output orders of both finalOptimization-seed.bin and orbitalMotion-seed.bin (see data index below). Each M-file is called by the respective 'filePlot' M-file.

- orbitalMotion.m defines the equations of motion solved by ode45 for both Earth and Didymos at the beginning of the 'plotData' files.

- angles.m calculates Fourier series for gamma, tau, and coast based on their respective coefficients and a time span.

- getAccel.m calculates vector components of acceleration based on gamma, tau, and magnitude of acceleration.

- impactParams.m converts hard-coded position and velocity components at impact from Cartesian coordinates with a time resolution of days to cylindrical coordinates with a time resolution of seconds for both Earth and Didymos. These results should then be copied and pasted to equal their respective variables in ../Cuda/Config_Constants/genetic.config. This is the only M-file not used for data visualization and may become obsolete if file input is implemented for the impact and earth conditions.

<h3> Data Index </h3>

For orbitalMotion-seed.bin:

- This binary file is an array of various data recorded at each time step from the final RK method in trajectoryPrint; the following list corresponds to their row order.

1. r of spacecraft
2. theta of spacecraft
3. z of spacecraft
4. v_r of spacecraft
5. v_theta of spacecraft
6. v_z of spacecraft
7. time
8. in-plane angle of thrust
9. out-of-plane angle of thrust
10. magnitude of acceleration due to thrust
11. net fuel spent
12. work done by thruster between time steps
13. changes in mechanical energy between time steps
14. average mechanical energy between time steps

For finalOptimization-seed.bin:

- This binary file is a vector of data elements; the following list corresponds to their order.
  
1. r of Didymos at impact
2. theta of Didymos at impact
3. z of Didymos at impact
4. v_r of Didymos at impact
5. v_theta of Didymos at impact
6. v_z of Didymos at impact
7. r of Earth at impact
8. theta of Earth at impact
9. z of Earth at impact
10. v_r of Earth at impact
11. v_theta of Earth at impact
12. v_z of Earth at impact
13. r of Earth at launch
14. theta of Earth at launch
15. z of Earth at launch
16. initial fuel mass
17. coast threshold
18. size of in-plane thrust angle (gamma) array
19. size of out-of-plane thrust angle (tau) array
20. size of coast array
    
- The sizes of these arrays determine the size of the file being read, and so the following positions vary with respect to array size. This list is based on the previously used array sizes of 7 for gamma, 3 for tau, and 5 for coast.

21. a_0 for gamma
22. a_1 for gamma
23. b_1 for gamma
24. a_2 for gamma
25. b_2 for gamma
26. a_3 for gamma
27. b_3 for gamma
28. a_0 for tau
29. a_1 for tau
30. b_1 for tau
31. initial in-plane position angle on ESOI
32. initial in-plane velocity angle
33. initial out-of-plane velocity angle
34. trip time
35. a_0 for coast
36. a_1 for coast
37. b_1 for coast
38. a_2 for coast
39. b_2 for coast
40. number of steps taken in final RK method used to generate orbitalMotion-seed.bin